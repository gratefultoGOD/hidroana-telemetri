backend  + frontend mqtt + login + cookies + direction [+]
fake veri gÃ¶nderen client ve broker kur ve bunlarla frontend'i haberleÅŸtir. [+] //ÅŸuan backend'e ihtiyaÃ§ yok.
MQTT (mosquitto) araÅŸtÄ±r. yeni haberleÅŸme protokolÃ¼. Frontend ve backend'de implantasyon [+]
sÃ¼rekli Ã¼zerime gelen sinekler gibi :)

1.login ekranÄ± ekle. telemetri sistemine [+]
2.database olarak json kullanÄ±yorlar ama optimize et.
3.haritada direction'da gÃ¶ster [+]
4.hidroana youtube kanalÄ±nda telemetri videosu [?]

https://areeweb.polito.it/didattica/h2polito/en/ arayÃ¼zlerine bak.

1.11.2025 TO-DO:
    5.DÄ±ÅŸ dÃ¼nyaya aÃ§. [+]
    6.responsive yap. [+]
    7.mqtt entegrasyonu [+]
    8. grafiksiz anlÄ±k deÄŸerler ve average'larÄ± direk haritada tam ekran olarak yazdÄ±rabiliriz. Mobil iÃ§in. 
    9.timestsamp'leri gÃ¼nlÃ¼k log olarak ayarla.
BROKER <-(VERÄ°)-(AUTH)->  BACKEND --(WS baÄŸlantÄ±sÄ± ile)-> FRONTEND

22.11.2025
QOS: 1 
plots proportional to time with millisecond
plots refresh interval: 0.5 second
vehicle data from data topic:
{
  h: '2',
  x: '3',
  y: '4',
  gs: '6',
  fv: '1',
  fa: '11',
  fw: '11',
  fet: '2',
  fit: '23',
  bv: '111',
  bc: '13',
  bw: '42',
  bwh: '13',
  t1: '31',
  t2: '113',
  t3: '331',
  soc: '13',
  ke: '33',
  jv: '76',
  jc: '43',
  jw: '33',
  jwh: '11'
}

plots and their values from json data topic:
h: anlÄ±k hÄ±z
x:  Longitude
y: Latitude
gs: GSM sinyal kalitesi
fv: yakÄ±t hÃ¼cresi voltajÄ±
fa: yakÄ±t hÃ¼cresi akÄ±mÄ±
fw: yakÄ±t hÃ¼cresi watt
fet: yakÄ±t hÃ¼cresi dÄ±ÅŸ sÄ±caklÄ±ÄŸÄ±
fit: yakÄ±t hÃ¼cresi iÃ§ sÄ±caklÄ±ÄŸÄ±
bv: batarya voltaj
bc: batarya akÄ±m
bw: batarya watt
bwh: batarya watt saat
t1: batarya sÄ±caklÄ±ÄŸÄ± 1
t2: batarya sÄ±caklÄ±ÄŸÄ± 2
t3: batarya sÄ±caklÄ±ÄŸÄ± 3
soc: batarya soc
ke: batarya kalan enerji
jv: joulemetre voltaj
jc: joulmetre akÄ±m
jw: joulmetre watt
jwh: joulmetre watt saat

bu veriler iÃ§in grafikler oluÅŸtur
arayÃ¼zÃ¼ revize et
fullmap sayfasÄ±nÄ± onar ve anasayfaya butonunu koy
deploy etmek iÃ§in CPANEL node.js Ã¶ÄŸren
------------------------------------------------------------------------------------

araÃ§ verileri csv formatÄ±nda backend'de txt dosyasÄ±na kaydedilsin. 
Yeni ve hÄ±zlÄ± iletiÅŸim protokolÃ¼ araÅŸtÄ±r
Cihan'a broker tarafÄ±nÄ± detaylÄ±ca sor. (sunucu'da nasÄ±l kayÄ±t alÄ±nÄ±yor? sunucu kayÄ±t esnasÄ±nda dar boÄŸaz yapÄ±yor mu? broker hosting dÃ¼nyam'da mÄ±)
IIS ile deploy edilmiÅŸ herhalde
deploy'a Ã§alÄ±ÅŸ


WINDOWS telemetri ve test uygulamasÄ±:
http ve mqtt protokol deÄŸiÅŸtirebilme 
verilerin hÄ±zlÄ± alÄ±nmasÄ± ve sunucuda nizami bir ÅŸekilde depolanmasÄ± firebasede olabilir
 | mesela test verilerini test baÅŸÄ±na yeni dosyalar olarak arÅŸivleme
 | aynÄ± zamanda csv formatÄ±nda kayÄ±t
araÃ§lar arasÄ± hÄ±zlÄ± geÃ§iÅŸ (veriler deÄŸiÅŸiyor) (dorlion ve prototip)
shell ve teknofest verileri farklÄ±
proto'da http urban'da MQTT kullanÄ±lacak 
shell tarafÄ±nda supercapacitor aÃ§ kapa emri verebilme uygulama tarafÄ±nda (veri gÃ¶nderme) 
  | HTTP cevap dÃ¶n 
  | supercapacitor buton'un durumu dÃ¶ndÃ¼rÃ¼lcek (aÃ§Ä±k / kapalÄ±) 1 0 dÃ¶ndÃ¼r

aynÄ± telemetri verileri gibi ekranda gÃ¶sterme

uygulama fikirleri dÃ¼ÅŸÃ¼n (daha neler yapabiliriz)
android sonra

prototipte batarya verileri opsiyonel


testi baÅŸlat bitir butonu
test kronometresi ekle
uygulamaya login ekranÄ±
//fullmap (opsiyonel) 
tam ekran
grafiklere gerek yok uygulamada
GSM sinyali kÃ¼Ã§Ã¼lt
logo ekle (siteye ve app'e)
hiyerarÅŸik listeleme
speed maks 50kmh. Ã¶lÃ§eklendir
urban'da super capacitor butonu gÃ¶rÃ¼nmez
baÄŸlantÄ± kopmalarÄ±na dikkat et
app'in sol yanÄ±na Ã¼Ã§ Ã§izgi
  | geÃ§miÅŸ veriler
  | 

verileri bÃ¶lÃ¼mlendir. 

IIS ile http isteklerini yÃ¶netiyorlarmÄ±ÅŸ (Ã§ok saÃ§ma)

HTTP ve MQTT geÃ§iÅŸi site'de olacak mÄ± ? 
HTTP server'Ä± hangisi (bunu node.js ile de yapabiliriz)
hem mqtt hem HTTP hem de site'yi serve edebiliriz.

HTTP'de ham veri geliyor onu json'a Ã§eviriyoruz.

sunucu hangi modda (HTTP mi? MQTT mi?)
baÄŸlantÄ± kopukluklarÄ±nÄ± otomatik kontrol et. 

gereksiz verileri kÃ¼Ã§Ã¼lt veya yok et (hem uygulama hem sitede)


// ============================================
// ARAÃ‡TAN VERÄ° ALMA ENDPOINT'Ä° (HTTP modu)
// ============================================
app.post('/api/vehicle/telemetry', (req, res) => {
    if (DATA_SOURCE !== 'HTTP') {
        return res.status(400).json({ error: 'HTTP modu aktif deÄŸil' });
    }
    
    try {
        const data = req.body;
        console.log('ğŸ“¦ HTTP VERÄ°:', JSON.stringify(data));
        processIncomingData(data);
        res.json({ success: true, message: 'Veri alÄ±ndÄ±' });
    } catch (error) {
        console.error('âŒ HTTP veri iÅŸleme hatasÄ±:', error);
        res.status(500).json({ error: 'Veri iÅŸlenemedi' });
    }
});

araÃ§tan veriler get isteÄŸiyle alÄ±nÄ±yor.
log kaydÄ± alma 

// AraÃ§ iÃ§in alternatif endpoint (star-separated format)
app.post('/api/vehicle/raw', (req, res) => {
    if (DATA_SOURCE !== 'HTTP') {
        return res.status(400).json({ error: 'HTTP modu aktif deÄŸil' });
    }
    
    try {
        const rawMessage = req.body.data || req.body.raw || '';
        console.log('ğŸ“¦ HTTP HAM VERÄ°:', rawMessage);
        const data = parseStarSeparatedData(rawMessage);
        processIncomingData(data);
        res.json({ success: true, message: 'Veri alÄ±ndÄ±' });
    } catch (error) {
        console.error('âŒ HTTP veri iÅŸleme hatasÄ±:', error);
        res.status(500).json({ error: 'Veri iÅŸlenemedi' });
    }
});

PM2 auto start server.js sistemine bak
sunucu yavaÅŸ, memory durumunu izle, gerekirse loglarÄ± sil
log kaydÄ± tutmak vs. onlarÄ±n yazÄ±lÄ±mÄ± gelecek inÅŸaallah.
eski backend kodu incelenecek

uygulama kÄ±smÄ±nda sadece kronometreli test verileri olacak. [+] 
araÃ§tan veri alÄ±rken en sonda bir key konacak o key kontrol edilecek key = [+]
araÃ§ verisine capacitor verisi dÃ¶ndÃ¼rÃ¼lecek [+]
api endpointlerini kÄ±salt [+]
kalan enerji birimi ne ? 
genel ortalama hesaplanmÄ±yor ? nereden itibaren hesaplayalÄ±m ? 
verileri kaydetme [+]
silmeyi kapat
testler senkronizasyonu bozuluyor. dÃ¼zelt

verileri senkronize et grafiklerle
veri gelmeyi bÄ±raktÄ±ÄŸÄ±nda grafikler dursun
keyi gÃ¼Ã§lendir


GSM ve hÄ±z ibrelerini optimize et [+]
GSM
1-9 zayÄ±f
10-14 orta
15-19 iyi
20-30 mÃ¼kemmel

HIZ MAX 60 [+]

TEST VERÄ°LERÄ°NÄ° Ä°SÄ°MLENDÄ°RME [+] test et localde var

WEB ARAYÃœZDE ARKA PLANA ALINCA GRAFÄ°K YERÄ°NDE SAYIYOR [test edilecek local de var]
UYGULAMA ARAYÃœZÃœNÃœ GELÄ°ÅTÄ°R